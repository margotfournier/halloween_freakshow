<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Studio Freakshow · Commandes Tactiles</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-base: #040205;
      --bg-top: #12000d;
      --ink: #f5f2ff;
      --muted: rgba(245, 242, 255, 0.65);
      --panel: rgba(5, 5, 8, 0.85);
      --border: rgba(255, 255, 255, 0.14);
      --highlight: rgba(233, 88, 114, 0.45);
      --glow-rose: #f9077d;
      --glow-gold: #ffc76b;
      --glow-cyan: #21f7ff;
      font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 60px 20px 120px;
      background: radial-gradient(circle at 20% 20%, rgba(248, 7, 125, 0.18), transparent 50%),
        radial-gradient(circle at 80% 0%, rgba(33, 247, 255, 0.2), transparent 60%),
        linear-gradient(160deg, var(--bg-base), var(--bg-top));
      color: var(--ink);
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url('data:image/svg+xml,%3Csvg width="160" height="160" viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-opacity="0.08"%3E%3Cpath d="M0 0h10v1H0z"/%3E%3C/g%3E%3C/svg%3E');
      mix-blend-mode: screen;
      opacity: 0.4;
      pointer-events: none;
      z-index: 0;
    }

    .stage-glow {
      position: absolute;
      width: 420px;
      height: 420px;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.45;
      z-index: 0;
    }

    .stage-glow-left {
      background: radial-gradient(circle, rgba(249, 7, 125, 0.7), transparent);
      top: -120px;
      left: -120px;
    }

    .stage-glow-right {
      background: radial-gradient(circle, rgba(255, 215, 111, 0.7), transparent);
      bottom: -160px;
      right: -120px;
    }

    .page {
      width: min(1200px, 95vw);
      display: flex;
      flex-direction: column;
      gap: 30px;
      position: relative;
      z-index: 1;
    }

    .glass-panel {
      background: linear-gradient(140deg, rgba(8, 6, 9, 0.95), rgba(26, 8, 21, 0.88));
      border: 1px solid var(--border);
      border-radius: 28px;
      padding: 40px;
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.05),
        0 40px 90px rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(24px) saturate(140%);
    }

    .hero {
      text-align: left;
      position: relative;
      overflow: hidden;
    }

    .hero::after {
      content: '';
      position: absolute;
      inset: 20px;
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      pointer-events: none;
    }

    .hero-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      align-items: stretch;
    }

    .hero-copy {
      flex: 1 1 320px;
    }

    .eyebrow {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.4rem;
      color: var(--muted);
      margin: 0 0 12px;
    }

    h1 {
      font-family: 'Playfair Display', 'Space Grotesk', serif;
      font-size: clamp(2.2rem, 4vw, 3.8rem);
      letter-spacing: 0.04em;
      margin: 0 0 16px;
    }

    .intro {
      font-size: 1.05rem;
      line-height: 1.6;
      color: var(--muted);
      max-width: 720px;
      margin: 0 0 32px;
    }

    .primary-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    .action-button {
      position: relative;
      border: none;
      border-radius: 999px;
      padding: 18px 36px;
      font-size: 1.05rem;
      letter-spacing: 0.2rem;
      text-transform: uppercase;
      font-weight: 600;
      color: #fff;
      cursor: pointer;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.02));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 25px 45px rgba(0, 0, 0, 0.4);
      transition: transform 180ms ease, box-shadow 180ms ease, filter 120ms ease;
      display: flex;
      flex-direction: column;
      gap: 4px;
      min-width: 220px;
    }

    .action-button::after {
      content: '';
      position: absolute;
      inset: 3px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      pointer-events: none;
    }

    .action-button .label {
      font-size: 1rem;
    }

    .action-button .meta {
      font-size: 0.78rem;
      letter-spacing: 0.15rem;
      color: rgba(255, 255, 255, 0.72);
    }

    .action-button.record {
      background: linear-gradient(120deg, #610319, #f9077d);
      box-shadow:
        0 25px 45px rgba(249, 7, 125, 0.35),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }

    .action-button.analyze {
      background: linear-gradient(120deg, #0e1d3f, #21f7ff);
      box-shadow:
        0 25px 50px rgba(33, 247, 255, 0.28),
        inset 0 1px 0 rgba(255, 255, 255, 0.25);
    }

    .action-button.ghost {
      color: var(--muted);
      background: rgba(255, 255, 255, 0.04);
    }

    .action-button:active,
    .keycap:active,
    .halo-button:active,
    .ticket-button:active,
    .switch-button:active {
      transform: translateY(2px) scale(0.99);
      box-shadow: 0 15px 25px rgba(0, 0, 0, 0.5);
    }

    .panel-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 20px;
      margin-bottom: 32px;
    }

    .panel-head h2 {
      margin: 4px 0 0;
      font-size: 2rem;
      letter-spacing: 0.04em;
    }

    .panel-pill {
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      text-transform: uppercase;
      letter-spacing: 0.3rem;
      font-size: 0.75rem;
      color: var(--muted);
      background: rgba(255, 255, 255, 0.03);
    }

    .keypad {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .keycap {
      position: relative;
      border: none;
      border-radius: 24px;
      padding: 24px 24px 32px;
      background:
        linear-gradient(180deg, rgba(255, 255, 255, 0.14), rgba(0, 0, 0, 0.35)),
        radial-gradient(circle at top, rgba(255, 255, 255, 0.2), transparent 55%);
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: var(--ink);
      text-align: left;
      cursor: pointer;
      box-shadow:
        0 30px 55px rgba(0, 0, 0, 0.65),
        inset 0 2px 0 rgba(255, 255, 255, 0.2);
      overflow: hidden;
      transition: transform 180ms ease, box-shadow 180ms ease, border 180ms;
      min-height: 220px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .keycap::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(145deg, rgba(249, 7, 125, 0.25), rgba(33, 247, 255, 0.15));
      opacity: 0;
      transition: opacity 200ms ease;
    }

    .keycap:hover::before {
      opacity: 1;
    }

    .keycap:hover {
      transform: translateY(-3px);
      border-color: rgba(255, 255, 255, 0.35);
    }

    .key-header {
      position: relative;
      z-index: 1;
    }

    .key-title {
      font-size: 1.5rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin: 0;
    }

    .key-role {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.4rem;
      color: rgba(255, 255, 255, 0.7);
      display: block;
      margin-top: 4px;
    }

    .key-story {
      position: relative;
      z-index: 1;
      font-size: 0.95rem;
      line-height: 1.5;
      color: rgba(255, 255, 255, 0.78);
    }

    .keycap .spikes {
      position: absolute;
      inset: 12px;
      border-radius: 18px;
      border: 1px dashed rgba(255, 255, 255, 0.1);
      pointer-events: none;
    }

    .rituals {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }

    .halo-button,
    .ticket-button,
    .switch-button {
      width: 100%;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(255, 255, 255, 0.04);
      color: var(--ink);
      padding: 22px 24px;
      cursor: pointer;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.25rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.55);
      transition: transform 200ms ease, border 200ms ease;
    }

    .halo-button {
      background: linear-gradient(120deg, rgba(249, 7, 125, 0.35), rgba(255, 199, 107, 0.25));
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .switch-button {
      background: linear-gradient(120deg, rgba(33, 247, 255, 0.35), rgba(255, 255, 255, 0.03));
    }

    .ticket-button {
      font-family: 'Playfair Display', serif;
      letter-spacing: 0.18rem;
      text-transform: uppercase;
      background: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.04) 0 12px, rgba(255, 255, 255, 0.08) 12px 24px);
      border-style: dashed;
    }

    .badge {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.3rem;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      background: rgba(0, 0, 0, 0.3);
    }

    .footer {
      text-align: center;
      color: rgba(255, 255, 255, 0.4);
      letter-spacing: 0.3rem;
      text-transform: uppercase;
      font-size: 0.75rem;
      padding-top: 20px;
    }

    button.is-pressed {
      filter: brightness(1.2);
    }

    @media (max-width: 720px) {
      .glass-panel {
        padding: 28px;
      }

      .primary-actions {
        flex-direction: column;
      }

      .action-button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="stage-glow stage-glow-left"></div>
  <div class="stage-glow stage-glow-right"></div>
  <main class="page">
    <header class="hero glass-panel">
      <div class="hero-grid">
        <div class="hero-copy">
          <p class="eyebrow">Cabinet Freak Show · Précision Apple</p>
          <h1>Le pupitre tactile du Cirque Magnétique</h1>
          <p class="intro">
            Interface hybride, rédigée comme un manifeste. Chaque bouton est un manifestant du freak show : halo
            ultra-propre, folklore assumé, retour sonore immédiat.
          </p>
          <div class="primary-actions">
            <button class="action-button record" data-tone="215" data-sound="enregistrer">
              <span class="label">Enregistrer</span>
              <span class="meta">Priorité absolue · canal A</span>
            </button>
            <button class="action-button analyze" data-tone="330" data-sound="analyser">
              <span class="label">Analyser</span>
              <span class="meta">Spectres + anomalies</span>
            </button>
            <button class="action-button ghost" data-tone="150">
              <span class="label">Brief tactique</span>
              <span class="meta">Traces &amp; notes</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <section class="glass-panel">
      <div class="panel-head">
        <div>
          <p class="eyebrow">Clavier humain</p>
          <h2>Touches principales</h2>
        </div>
        <div class="panel-pill">Cliquer · écouter</div>
      </div>
      <div class="keypad">
        <button class="keycap" data-tone="188" data-sound="tom">
          <div class="key-header">
            <p class="key-title">Tom</p>
            <span class="key-role">Le béton vivant</span>
          </div>
          <p class="key-story">
            À 50 mètres sous terre, il soulève seul ce que dix hommes ne peuvent porter. Rails d'acier, poutres de béton,
            machines de forage… Sa force et sa virilité sont devenues légendaires dans les profondeurs de Paris.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="256" data-sound="anais">
          <div class="key-header">
            <p class="key-title">Anaïs</p>
            <span class="key-role">L'illusionniste fatale</span>
          </div>
          <p class="key-story">
            Elle fait léviter les corps, disparaître les objets et métamorphose la réalité en cauchemar éveillé. Son charme
            captive, sa magie terrorise, son public ne respire plus.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="308" data-sound="margot">
          <div class="key-header">
            <p class="key-title">Margot</p>
            <span class="key-role">L'oracle des ombres</span>
          </div>
          <p class="key-story">
            Elle devine votre prénom, votre signe astrologique et votre petit-déjeuner en observant vos mains. Un soir elle
            prédit trois mariages, cinq naissances… et tout s'est réalisé.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="330" data-sound="georges">
          <div class="key-header">
            <p class="key-title">Georges</p>
            <span class="key-role">La bête aux griffes d'acier</span>
          </div>
          <p class="key-story">
            Capturé dans les montagnes maudites de Transylvanie, mi-félin mi-démon. Il a déchiqueté douze chasseurs avant
            d'être enchaîné. Ses yeux luisent dans le noir, ses griffes ne pardonnent jamais.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="360" data-sound="orfeo">
          <div class="key-header">
            <p class="key-title">Orféo</p>
            <span class="key-role">Le ventriloque sidéral</span>
          </div>
          <p class="key-story">
            Ses marionnettes sont sculptées dans la pierre météorique et parlent à contretemps. Elles révèlent vos secrets
            les plus enfouis à chaque claquement de doigts.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="402" data-sound="selah">
          <div class="key-header">
            <p class="key-title">Selah</p>
            <span class="key-role">La déchireuse de lumière</span>
          </div>
          <p class="key-story">
            Elle lacère les faisceaux laser à mains nues et les tisse en cages suspendues. Les spectateurs y flottent comme
            des lucioles prisonnières d'une aurore boréale.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="212" data-sound="bastian">
          <div class="key-header">
            <p class="key-title">Bastian</p>
            <span class="key-role">Le mécano-chimérique</span>
          </div>
          <p class="key-story">
            Dans son torse transparent tournent des engrenages en verre. Il répare les trains fantômes à mains nues et fait
            accélérer les cœurs avec des clefs à molette bénites.
          </p>
          <span class="spikes"></span>
        </button>
        <button class="keycap" data-tone="290" data-sound="lyra">
          <div class="key-header">
            <p class="key-title">Lyra</p>
            <span class="key-role">L'anatomiste des rêves</span>
          </div>
          <p class="key-story">
            Elle découpe vos cauchemars au scalpel holographique et les recoud en lullabies électroniques. On ressort de sa
            table de marbre en riant nerveusement.
          </p>
          <span class="spikes"></span>
        </button>
      </div>

      <div class="rituals">
        <button class="halo-button" data-tone="340">
          Synapse lumineuse
          <span class="badge">live</span>
        </button>
        <button class="ticket-button" data-tone="230">
          Billet mystique
          <span class="badge">entrée</span>
        </button>
        <button class="switch-button" data-tone="410">
          Mode immersion
          <span class="badge">4d</span>
        </button>
      </div>
    </section>

    <footer class="footer">Freakshow audio systems · édition 2025</footer>
  </main>

  <script>
    const buttons = document.querySelectorAll('button');
    let audioCtx;
    const audioBufferCache = {};

    function getAudioContext() {
      if (!audioCtx) {
        const AudioContextClass = window.AudioContext || window.webkitAudioContext;
        if (!AudioContextClass) {
          return null;
        }
        audioCtx = new AudioContextClass();
      }
      if (audioCtx.state === 'suspended') {
        audioCtx.resume();
      }
      return audioCtx;
    }

    function playTactileTone(freq = 240) {
      const ctx = getAudioContext();
      if (!ctx) return;

      const now = ctx.currentTime;
      const duration = 0.18;
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      const filter = ctx.createBiquadFilter();

      osc.type = 'triangle';
      osc.frequency.setValueAtTime(freq, now);

      filter.type = 'bandpass';
      filter.frequency.setValueAtTime(freq * 2, now);
      filter.Q.setValueAtTime(6, now);

      gain.gain.setValueAtTime(0.2, now);
      gain.gain.exponentialRampToValueAtTime(0.001, now + duration);

      osc.connect(filter);
      filter.connect(gain);
      gain.connect(ctx.destination);

      osc.start(now);
      osc.stop(now + duration);
    }

    async function loadSample(slug) {
      if (slug in audioBufferCache) {
        return audioBufferCache[slug];
      }
      const ctx = getAudioContext();
      if (!ctx) {
        audioBufferCache[slug] = null;
        return null;
      }
      const extensions = ['.mp3', '.wav', '.ogg'];
      for (const ext of extensions) {
        const url = `sounds/${slug}${ext}`;
        try {
          const response = await fetch(url);
          if (!response.ok) continue;
          const arrayBuffer = await response.arrayBuffer();
          const buffer = await ctx.decodeAudioData(arrayBuffer);
          audioBufferCache[slug] = buffer;
          return buffer;
        } catch (error) {
          console.warn(`Impossible de charger ${url}`, error);
        }
      }
      audioBufferCache[slug] = null;
      return null;
    }

    async function triggerButtonSound(button) {
      const slug = button.dataset.sound;
      const freq = Number(button.dataset.tone) || 240;
      if (!slug) {
        playTactileTone(freq);
        return;
      }
      const buffer = await loadSample(slug);
      if (buffer) {
        const ctx = getAudioContext();
        const source = ctx.createBufferSource();
        source.buffer = buffer;
        source.connect(ctx.destination);
        source.start();
      } else {
        playTactileTone(freq);
      }
    }

    buttons.forEach((btn) => {
      btn.addEventListener('click', () => {
        btn.classList.add('is-pressed');
        triggerButtonSound(btn);
        setTimeout(() => btn.classList.remove('is-pressed'), 160);
      });
    });
  </script>
</body>
</html>
